{"ast":null,"code":"var _jsxFileName = \"D:\\\\sattebaazi\\\\frontend\\\\src\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useMemo } from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Autoplay, Pagination } from \"swiper/modules\";\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\nimport './index.css';\nimport { useNavigate } from \"react-router-dom\";\nimport DropdownMenu from './DropdownMenu';\nimport HeaderNav from \"./HeaderNav\";\nimport CompanyShortlistModal from './CompanyShortlistModal';\nimport { motion } from \"framer-motion\";\nimport { useAuth } from './context/AuthContext';\nimport api from './services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst filterOptions = [{\n  key: 'all',\n  label: 'All',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-play h-5 w-5\",\n    children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"6 3 20 12 6 21 6 3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 243\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 7\n  }, this)\n}, {\n  key: 'quant',\n  label: 'Quant',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-calculator h-5 w-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"4\",\n      y: \"2\",\n      width: \"16\",\n      height: \"20\",\n      rx: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 249\n    }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"8\",\n      y: \"6\",\n      width: \"8\",\n      height: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 298\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"9\",\n      y1: \"12\",\n      x2: \"9\",\n      y2: \"12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 338\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"15\",\n      y1: \"12\",\n      x2: \"15\",\n      y2: \"12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 375\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"9\",\n      y1: \"16\",\n      x2: \"9\",\n      y2: \"16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 414\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"15\",\n      y1: \"16\",\n      x2: \"15\",\n      y2: \"16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 451\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }, this)\n}, {\n  key: 'sde',\n  label: 'SDE',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-code h-5 w-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"16 18 22 12 16 6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 243\n    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"8 6 2 12 8 18\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 280\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }, this)\n}, {\n  key: 'product',\n  label: 'Product',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-box h-5 w-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 242\n    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"3.27 6.96 12 12.01 20.73 6.96\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 375\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"12\",\n      y1: \"22.08\",\n      x2: \"12\",\n      y2: \"12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 425\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }, this)\n}, {\n  key: 'data',\n  label: 'Data',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-database h-5 w-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"ellipse\", {\n      cx: \"12\",\n      cy: \"5\",\n      rx: \"9\",\n      ry: \"3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 247\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 286\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 336\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 7\n  }, this)\n}, {\n  key: 'core',\n  label: 'Core',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-cpu h-5 w-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"4\",\n      y: \"4\",\n      width: \"16\",\n      height: \"16\",\n      rx: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 242\n    }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"9\",\n      y: \"9\",\n      width: \"6\",\n      height: \"6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 291\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M15 2v2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 331\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M15 20v2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 350\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M2 15h2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 370\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M2 9h2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 389\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M20 15h2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 407\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M20 9h2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 427\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9 2v2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 446\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9 20v2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 464\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 7\n  }, this)\n}, {\n  key: 'misc',\n  label: 'Misc',\n  icon: selected => /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20\",\n    height: \"20\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: selected ? '#fff' : '#22b36a',\n    strokeWidth: \"2.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"lucide lucide-more-horizontal h-5 w-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"12\",\n      cy: \"12\",\n      r: \"1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 254\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"19\",\n      cy: \"12\",\n      r: \"1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 285\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"5\",\n      cy: \"12\",\n      r: \"1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 316\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this)\n}];\nexport default function HomePage({\n  showUserGuideModal,\n  setShowUserGuideModal,\n  userGuideContent\n}) {\n  _s();\n  const {\n    user,\n    updateUser\n  } = useAuth();\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [showWelcomeModal, setShowWelcomeModal] = useState(false);\n  const [selectedDomain, setSelectedDomain] = useState('all');\n  const [showAnnouncement, setShowAnnouncement] = useState(true);\n  const [announcementIdx, setAnnouncementIdx] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // API Data States\n  const [companies, setCompanies] = useState([]);\n  const [candidates, setCandidates] = useState([]);\n  const [bets, setBets] = useState([]);\n  const [myBets, setMyBets] = useState([]);\n  const announcements = ['Placement Season Surprise: Bet Big, Win Bigger!', 'Write a mail to us noreply@gmail.com', 'All the best for placements!'];\n  const navigate = useNavigate();\n  const [modalOpen, setModalOpen] = useState(false);\n  const [selectedCompany, setSelectedCompany] = useState(null);\n\n  // Load data from API\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        setError('');\n\n        // Test API connection first\n        try {\n          const testResponse = await fetch('http://localhost:5000/api/companies');\n          if (!testResponse.ok) {\n            throw new Error(`Backend server responded with status: ${testResponse.status}`);\n          }\n        } catch (testError) {\n          console.error('Backend connection test failed:', testError);\n          setError('Cannot connect to backend server. Please make sure it\\'s running on port 5000.');\n          setLoading(false);\n          return;\n        }\n\n        // Load data with individual error handling\n        let companiesData = [];\n        let candidatesData = [];\n        let betsData = [];\n        let myBetsData = [];\n        try {\n          companiesData = await api.getCompanies();\n        } catch (error) {\n          console.error('Error loading companies:', error);\n          // Continue with empty array\n        }\n        try {\n          candidatesData = await api.getCandidates();\n        } catch (error) {\n          console.error('Error loading candidates:', error);\n          // Continue with empty array\n        }\n        try {\n          betsData = await api.getBets();\n        } catch (error) {\n          console.error('Error loading bets:', error);\n          // Continue with empty array\n        }\n        try {\n          myBetsData = await api.getMyBets();\n        } catch (error) {\n          console.error('Error loading my bets:', error);\n          // Continue with empty array\n        }\n        setCompanies(companiesData);\n        setCandidates(candidatesData);\n        setBets(betsData);\n        setMyBets(myBetsData);\n\n        // Check if we got any data\n        if (companiesData.length === 0 && candidatesData.length === 0 && betsData.length === 0) {\n          setError('No data available. The database might be empty. Please check if data has been seeded.');\n        }\n      } catch (error) {\n        console.error('Error loading data:', error);\n        setError('Failed to load data. Please check your connection and try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadData();\n  }, []);\n  useEffect(() => {\n    if (!showAnnouncement) return;\n    const interval = setInterval(() => {\n      setAnnouncementIdx(idx => (idx + 1) % announcements.length);\n    }, 4000);\n    return () => clearInterval(interval);\n  }, [showAnnouncement]);\n\n  // Add this handler inside HomePage\n  async function handleModalSubmit(betsToSubmit, totalBet) {\n    try {\n      // Submit bets to API\n      const betPromises = betsToSubmit.map(bet => api.placeBet({\n        candidateId: bet.candidateId,\n        companyId: bet.companyId,\n        type: bet.type,\n        amount: bet.amount\n      }));\n      await Promise.all(betPromises);\n\n      // Update user tokens\n      const updatedUser = {\n        ...user,\n        tokens: user.tokens - totalBet\n      };\n      updateUser(updatedUser);\n\n      // Refresh bets data\n      const [newBets, newMyBets] = await Promise.all([api.getBets(), api.getMyBets()]);\n      setBets(newBets);\n      setMyBets(newMyBets);\n      setModalOpen(false);\n    } catch (error) {\n      console.error('Error placing bets:', error);\n      setError('Failed to place bets. Please try again.');\n    }\n  }\n\n  // Helper: check if company has results declared\n  const hasResultsDeclared = company => {\n    return company.candidates && company.candidates.some(cand => cand.result !== 'awaited');\n  };\n\n  // Filter companies for Live Events box (only show companies where results are NOT declared)\n  const filteredCompanies = selectedDomain === 'all' ? companies.filter(c => !hasResultsDeclared(c)) : companies.filter(c => c.liveEventSection === selectedDomain && !hasResultsDeclared(c));\n\n  // Filter companies for Hot Bets (top 3 by tokens, filtered by selected domain, only active companies)\n  const hotBetsCompanies = (selectedDomain === 'all' ? companies.filter(c => !hasResultsDeclared(c)) : companies.filter(c => c.liveEventSection === selectedDomain && !hasResultsDeclared(c))).sort((a, b) => {\n    // Calculate total tokens for each company\n    const totalTokensA = bets.filter(bet => bet.companyId === a._id).reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\n    const totalTokensB = bets.filter(bet => bet.companyId === b._id).reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\n    return totalTokensB - totalTokensA;\n  }).slice(0, 3);\n\n  // Persistent, bet-driven stakes for each company\n  const [companyStakes, setCompanyStakes] = useState({});\n  useEffect(() => {\n    // Recalculate stakes whenever bets change\n    const newStakes = {};\n    companies.forEach(company => {\n      const shortlistedIds = company.shortlist || [];\n      shortlistedIds.forEach(cid => {\n        // Total tokens bet on this candidate\n        const t_i = bets.filter(bet => bet.companyId === company._id && bet.candidateId === cid).reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\n        // Improved odds formula: only change for candidate being bet on\n        const baseFor = 2.0;\n        const minFor = 1.05;\n        const maxFor = 10.0;\n        const k = 0.0005;\n        let forStake = baseFor;\n        let againstStake = baseFor;\n        if (t_i > 0) {\n          forStake = Math.max(minFor, baseFor - k * t_i);\n          againstStake = Math.min(maxFor, baseFor + k * t_i);\n        }\n        if (!newStakes[company._id]) newStakes[company._id] = {};\n        newStakes[company._id][cid] = {\n          for: forStake.toFixed(2),\n          against: againstStake.toFixed(2)\n        };\n      });\n    });\n    setCompanyStakes(newStakes);\n  }, [bets, companies]);\n\n  // Calculate top 8 companies by total tokens bet\n  const topCompanyIds = useMemo(() => {\n    const totals = {};\n    bets.forEach(bet => {\n      if (!totals[bet.companyId]) totals[bet.companyId] = 0;\n      totals[bet.companyId] += Number(bet.amount) || 0;\n    });\n    // Sort company ids by total tokens bet, descending\n    return Object.entries(totals).sort((a, b) => b[1] - a[1]).slice(0, 8).map(([id]) => id);\n  }, [bets]);\n\n  // Use admin-selected companies for the carousel (for now, use top companies)\n  const carouselCompanies = companies.filter(c => topCompanyIds.includes(c._id) && !hasResultsDeclared(c)).slice(0, 5);\n\n  // Helper to close menu on outside click\n  const menuRef = useRef();\n  React.useEffect(() => {\n    function handleClick(e) {\n      if (menuOpen && menuRef.current && !menuRef.current.contains(e.target)) {\n        setMenuOpen(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClick);\n    return () => document.removeEventListener('mousedown', handleClick);\n  }, [menuOpen]);\n  function handleLogout() {\n    setMenuOpen(false);\n    // Clear user state if needed\n    navigate('/');\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-[linear-gradient(135deg,_#f8fafc,_#e2f7e1)]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-[linear-gradient(135deg,_#f8fafc,_#e2f7e1)]\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-md mx-auto p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-xl mb-4 font-semibold\",\n          children: \"\\u26A0\\uFE0F Connection Issue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-600 mb-6\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 text-sm text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Make sure the backend server is running on port 5000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Check your internet connection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Try refreshing the page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setError(''),\n            className: \"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition\",\n            children: \"Continue Anyway\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: 40\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.7,\n      ease: \"easeOut\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(HeaderNav, {\n      user: user,\n      onUserGuide: () => setShowUserGuideModal(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: \"hidden\",\n      animate: \"visible\",\n      variants: {\n        visible: {\n          transition: {\n            staggerChildren: 0.18\n          }\n        },\n        hidden: {}\n      },\n      children: [/*#__PURE__*/_jsxDEV(motion.section, {\n        variants: {\n          hidden: {\n            opacity: 0,\n            y: 40\n          },\n          visible: {\n            opacity: 1,\n            y: 0,\n            transition: {\n              duration: 0.6,\n              ease: \"easeOut\"\n            }\n          }\n        },\n        className: \"flex flex-col items-center py-4 md:py-8 px-0\",\n        children: [/*#__PURE__*/_jsxDEV(Swiper, {\n          modules: [Autoplay, Pagination],\n          slidesPerView: 1,\n          spaceBetween: 24,\n          loop: true,\n          autoplay: {\n            delay: 5000,\n            disableOnInteraction: false\n          },\n          pagination: {\n            clickable: true,\n            el: '.custom-swiper-pagination'\n          },\n          navigation: false,\n          breakpoints: {\n            640: {\n              slidesPerView: 1\n            },\n            768: {\n              slidesPerView: 2\n            },\n            1024: {\n              slidesPerView: 3\n            }\n          },\n          className: \"w-full max-w-[98vw] md:max-w-[90vw]\",\n          children: carouselCompanies.map((company, idx) => {\n            // Calculate total tokens for this company\n            const totalTokens = bets.filter(bet => bet.companyId === company._id).reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\n            return /*#__PURE__*/_jsxDEV(SwiperSlide, {\n              children: /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  x: -40\n                },\n                whileInView: {\n                  opacity: 1,\n                  x: 0\n                },\n                viewport: {\n                  once: true,\n                  amount: 0.3\n                },\n                transition: {\n                  duration: 0.6,\n                  delay: idx * 0.15,\n                  ease: \"easeOut\"\n                },\n                className: \"rounded-2xl p-3 bg-[linear-gradient(135deg,_#23282b_80%,_#444950_100%),_radial-gradient(circle_at_80%_20%,_rgba(255,255,255,0.13)_0%,_transparent_70%)] shadow-[0_8px_32px_0_rgba(40,199,111,0.18),_0_1.5px_8px_0_rgba(255,255,255,0.10)_inset] hover:shadow-[0_0_32px_8px_rgba(184,255,231,0.18)] hover:scale-[1.01] backdrop-blur-[6px] bg-opacity-95 transition-all duration-300 flex flex-col justify-between min-h-[80px] max-w-[750px] w-full mx-auto cursor-pointer relative overflow-hidden\",\n                style: {\n                  boxShadow: '0 4px 32px 0 rgba(184,255,231,0.18), 0 1.5px 8px 0 rgba(255,255,255,0.10) inset'\n                },\n                onClick: () => {\n                  setSelectedCompany(company);\n                  setModalOpen(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute left-0 top-0 w-full h-full pointer-events-none z-10\",\n                  style: {\n                    background: 'linear-gradient(120deg,rgba(255,255,255,0.18)_0%,rgba(255,255,255,0.04)_60%,rgba(255,255,255,0.10)_100%)',\n                    mixBlendMode: 'screen',\n                    borderRadius: 'inherit'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-block bg-[#28c76f] text-white text-xs font-bold px-4 py-1 rounded-full mb-4 w-fit\",\n                  children: \"ACTIVE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-2xl font-bold text-white mb-1\",\n                      children: company.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-emerald-400 text-base font-medium\",\n                      children: company.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center w-32 h-32\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: company.logo || '/logo192.png',\n                      alt: company.name + \" logo\",\n                      className: \"w-28 h-28 object-contain\",\n                      onError: e => {\n                        e.target.onerror = null;\n                        e.target.src = 'https://cdn-icons-png.flaticon.com/512/3135/3135715.png';\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col gap-2 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 text-red-400 text-base font-medium\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"20\",\n                      height: \"20\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 183\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 101\n                    }, this), \" expires on: \", company.expiresOn || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 text-gray-400 text-base\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"20\",\n                      height: \"20\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M3 17v-2a4 4 0 014-4h10a4 4 0 014 4v2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 407,\n                        columnNumber: 109\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 27\n                    }, this), \"Total Tokens: \", totalTokens.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end mt-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"w-full bg-[#28c76f] hover:bg-[#22b455] text-white font-bold py-3 rounded-lg text-lg transition hover:shadow-md\",\n                    children: \"Place Bet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this)]\n              }, company.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this)\n            }, company.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-swiper-pagination mt-4 flex justify-center gap-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.section, {\n        variants: {\n          hidden: {\n            opacity: 0,\n            y: 40\n          },\n          visible: {\n            opacity: 1,\n            y: 0,\n            transition: {\n              duration: 0.6,\n              ease: \"easeOut\"\n            }\n          }\n        },\n        className: \"px-2 md:px-10 py-6 md:py-8\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          variants: {\n            hidden: {\n              opacity: 0,\n              y: 40\n            },\n            visible: {\n              opacity: 1,\n              y: 0,\n              transition: {\n                duration: 0.6,\n                ease: \"easeOut\"\n              }\n            }\n          },\n          className: \"bg-[linear-gradient(to_top_right,_#181a1b_80%,_#28c76f_20%,_#181a1b_100%)] backdrop-blur-md border border-white/10 shadow-md rounded-xl p-6 md:p-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl md:text-3xl font-bold text-white mb-4 md:mb-6 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"44\",\n                height: \"44\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"#28c76f\",\n                strokeWidth: \"2.5\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                className: \"lucide lucide-zap w-10 h-10\",\n                children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n                  points: \"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 232\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this), \"Live Events\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 md:gap-4 mb-6 overflow-x-auto scrollbar-thin scrollbar-thumb-[#a3f7bf]/40 scrollbar-track-transparent\",\n            children: filterOptions.map(opt => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `rounded-full flex items-center justify-center focus:outline-none w-10 h-10 md:w-12 md:h-12 transition-all duration-200\n                      ${selectedDomain === opt.key ? 'bg-[#28c76f] shadow-[0_0_32px_0_rgba(40,199,111,0.25)]' : 'bg-[#0a0f0c]'}\n                    `,\n                onClick: () => setSelectedDomain(opt.key),\n                \"aria-label\": opt.label,\n                children: opt.icon(selectedDomain === opt.key)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm md:text-base font-medium transition-all duration-200 mt-2 text-white`,\n                children: opt.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this)]\n            }, opt.key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col md:flex-row gap-6\",\n            children: hotBetsCompanies.map((company, idx) => {\n              // Calculate total tokens for this company\n              const totalTokens = bets.filter(bet => bet.companyId === company._id).reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\n              // Compose the company object for the modal\n              const modalCompany = {\n                ...company,\n                role: company.role || 'N/A',\n                logo: company.logo || '/logo192.png',\n                expires: company.expiresOn || 'N/A',\n                tokens: totalTokens,\n                domain: company.liveEventSection || 'misc'\n              };\n\n              // Get shortlisted candidate IDs for this company\n              const shortlistedIds = company.shortlist || [];\n              // Aggregate total tokens bet per candidate for this company\n              const candidateTokenMap = {};\n              bets.forEach(bet => {\n                if (bet.companyId === company._id && shortlistedIds.includes(bet.candidateId)) {\n                  candidateTokenMap[bet.candidateId] = (candidateTokenMap[bet.candidateId] || 0) + (Number(bet.amount) || 0);\n                }\n              });\n              // Sort candidates by tokens bet, descending\n              const sortedCandidates = [...shortlistedIds].map(cid => ({\n                id: cid,\n                name: (candidates.find(c => c._id === cid) || {}).name || 'Unknown',\n                tokens: candidateTokenMap[cid] || 0\n              })).sort((a, b) => b.tokens - a.tokens);\n              // Pick top two\n              const topTwo = sortedCandidates.slice(0, 2);\n\n              // Use persistent, bet-driven stakes\n              const stakes = companyStakes[company._id] || {};\n              return /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  x: -40\n                },\n                whileInView: {\n                  opacity: 1,\n                  x: 0\n                },\n                viewport: {\n                  once: true,\n                  amount: 0.3\n                },\n                transition: {\n                  duration: 0.6,\n                  delay: idx * 0.15,\n                  ease: \"easeOut\"\n                },\n                className: \"bg-[#181f1f] rounded-2xl p-6 w-full md:w-[420px] h-[200px] flex flex-col justify-between shadow-lg relative border-2 border-[#28c76f]/80 transition-all duration-300 hover:shadow-2xl hover:scale-[1.03] hover:border-[#28c76f] cursor-pointer\",\n                onClick: () => {\n                  setSelectedCompany(modalCompany);\n                  setModalOpen(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg font-bold text-[#28c76f]\",\n                    children: company.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-[#28c76f] text-white text-xs px-3 py-1 rounded-full font-semibold absolute top-6 right-6\",\n                    children: modalCompany.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 flex flex-col gap-1 mb-2\",\n                  children: topTwo.length > 0 ? topTwo.map((cand, i) => {\n                    var _stakes$cand$id, _stakes$cand$id2;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-200 font-medium\",\n                        children: cand.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 511,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-bold text-green-500 ml-auto\",\n                        children: [((_stakes$cand$id = stakes[cand.id]) === null || _stakes$cand$id === void 0 ? void 0 : _stakes$cand$id.for) || '2.00', \"x\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 512,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-bold text-red-500\",\n                        children: [((_stakes$cand$id2 = stakes[cand.id]) === null || _stakes$cand$id2 === void 0 ? void 0 : _stakes$cand$id2.against) || '2.00', \"x\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 513,\n                        columnNumber: 27\n                      }, this)]\n                    }, cand.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 510,\n                      columnNumber: 25\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-200 font-medium\",\n                      children: \"No bets yet\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-end text-xs text-gray-400 mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"16\",\n                      height: \"16\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 146\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 64\n                    }, this), \" \", modalCompany.expires]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      width: \"16\",\n                      height: \"16\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M3 17v-2a4 4 0 014-4h10a4 4 0 014 4v2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 523,\n                        columnNumber: 146\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 523,\n                      columnNumber: 64\n                    }, this), \" \", typeof modalCompany.tokens === 'number' ? modalCompany.tokens.toLocaleString() : 'N/A', \" tokens\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 21\n                }, this)]\n              }, company.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"w-full flex justify-center mt-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex items-center gap-2 px-8 py-3 text-gray-300 bg-transparent text-sm\",\n        style: {\n          borderTop: '1px solid #232b3a'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5 text-[#28c76f] flex-shrink-0\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"#28c76f\",\n            strokeWidth: \"2\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 135\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 16v-4\",\n            stroke: \"#28c76f\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 212\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"8\",\n            r: \"1\",\n            fill: \"#28c76f\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 288\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"For entertainment only. Not affiliated with IIT BHU or placement cells. Any resemblance to persons or events is coincidental. No real job predictions or monetary rewards. Participation is purely for fun\\u2014please enjoy responsibly.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this), showUserGuideModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full relative overflow-y-auto max-h-[90vh]\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl\",\n          onClick: () => setShowUserGuideModal(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), userGuideContent, /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-8 w-full bg-[#28c76f] hover:bg-[#22b36a] text-white font-bold py-3 rounded-full text-lg transition hover:shadow-md\",\n          onClick: () => setShowUserGuideModal(false),\n          children: \"Get Started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CompanyShortlistModal, {\n      open: modalOpen,\n      onClose: () => setModalOpen(false),\n      company: selectedCompany,\n      candidates: candidates,\n      bets: bets,\n      onSubmit: handleModalSubmit,\n      stakes: selectedCompany ? companyStakes[selectedCompany._id] : {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"k3PYUu4p/WtfxbqYvZpodVYiH0Y=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = HomePage;\nfunction getInitials(name) {\n  return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\n}\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","Swiper","SwiperSlide","Autoplay","Pagination","useNavigate","DropdownMenu","HeaderNav","CompanyShortlistModal","motion","useAuth","api","jsxDEV","_jsxDEV","filterOptions","key","label","icon","selected","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","children","points","fileName","_jsxFileName","lineNumber","columnNumber","x","y","rx","x1","y1","x2","y2","d","cx","cy","ry","r","HomePage","showUserGuideModal","setShowUserGuideModal","userGuideContent","_s","user","updateUser","menuOpen","setMenuOpen","showWelcomeModal","setShowWelcomeModal","selectedDomain","setSelectedDomain","showAnnouncement","setShowAnnouncement","announcementIdx","setAnnouncementIdx","loading","setLoading","error","setError","companies","setCompanies","candidates","setCandidates","bets","setBets","myBets","setMyBets","announcements","navigate","modalOpen","setModalOpen","selectedCompany","setSelectedCompany","loadData","testResponse","fetch","ok","Error","status","testError","console","companiesData","candidatesData","betsData","myBetsData","getCompanies","getCandidates","getBets","getMyBets","length","interval","setInterval","idx","clearInterval","handleModalSubmit","betsToSubmit","totalBet","betPromises","map","bet","placeBet","candidateId","companyId","type","amount","Promise","all","updatedUser","tokens","newBets","newMyBets","hasResultsDeclared","company","some","cand","result","filteredCompanies","filter","c","liveEventSection","hotBetsCompanies","sort","a","b","totalTokensA","_id","reduce","sum","Number","totalTokensB","slice","companyStakes","setCompanyStakes","newStakes","forEach","shortlistedIds","shortlist","cid","t_i","baseFor","minFor","maxFor","k","forStake","againstStake","Math","max","min","for","toFixed","against","topCompanyIds","totals","Object","entries","id","carouselCompanies","includes","menuRef","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","handleLogout","onClick","window","location","reload","div","initial","opacity","animate","transition","duration","ease","onUserGuide","variants","visible","staggerChildren","hidden","section","modules","slidesPerView","spaceBetween","loop","autoplay","delay","disableOnInteraction","pagination","clickable","el","navigation","breakpoints","totalTokens","whileInView","viewport","once","style","boxShadow","background","mixBlendMode","borderRadius","name","role","src","logo","alt","onError","onerror","expiresOn","toLocaleString","opt","modalCompany","expires","domain","candidateTokenMap","sortedCandidates","find","topTwo","stakes","i","_stakes$cand$id","_stakes$cand$id2","borderTop","open","onClose","onSubmit","_c","getInitials","split","n","join","toUpperCase","$RefreshReg$"],"sources":["D:/sattebaazi/frontend/src/HomePage.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useMemo } from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Autoplay, Pagination } from \"swiper/modules\";\r\nimport \"swiper/css\";\r\nimport \"swiper/css/pagination\";\r\nimport './index.css';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DropdownMenu from './DropdownMenu';\r\nimport HeaderNav from \"./HeaderNav\";\r\nimport CompanyShortlistModal from './CompanyShortlistModal';\r\nimport { motion } from \"framer-motion\";\r\nimport { useAuth } from './context/AuthContext';\r\nimport api from './services/api';\r\n\r\nconst filterOptions = [\r\n  {\r\n    key: 'all', label: 'All',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-play h-5 w-5\"><polygon points=\"6 3 20 12 6 21 6 3\"></polygon></svg>\r\n    )\r\n  },\r\n  {\r\n    key: 'quant', label: 'Quant',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-calculator h-5 w-5\"><rect x=\"4\" y=\"2\" width=\"16\" height=\"20\" rx=\"2\"/><rect x=\"8\" y=\"6\" width=\"8\" height=\"2\"/><line x1=\"9\" y1=\"12\" x2=\"9\" y2=\"12\"/><line x1=\"15\" y1=\"12\" x2=\"15\" y2=\"12\"/><line x1=\"9\" y1=\"16\" x2=\"9\" y2=\"16\"/><line x1=\"15\" y1=\"16\" x2=\"15\" y2=\"16\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    key: 'sde', label: 'SDE',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-code h-5 w-5\"><polyline points=\"16 18 22 12 16 6\"/><polyline points=\"8 6 2 12 8 18\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    key: 'product', label: 'Product',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-box h-5 w-5\"><path d=\"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\"/><polyline points=\"3.27 6.96 12 12.01 20.73 6.96\"/><line x1=\"12\" y1=\"22.08\" x2=\"12\" y2=\"12\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    key: 'data', label: 'Data',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-database h-5 w-5\"><ellipse cx=\"12\" cy=\"5\" rx=\"9\" ry=\"3\"/><path d=\"M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5\"/><path d=\"M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    key: 'core', label: 'Core',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-cpu h-5 w-5\"><rect x=\"4\" y=\"4\" width=\"16\" height=\"16\" rx=\"2\"/><rect x=\"9\" y=\"9\" width=\"6\" height=\"6\"/><path d=\"M15 2v2\"/><path d=\"M15 20v2\"/><path d=\"M2 15h2\"/><path d=\"M2 9h2\"/><path d=\"M20 15h2\"/><path d=\"M20 9h2\"/><path d=\"M9 2v2\"/><path d=\"M9 20v2\"/></svg>\r\n    )\r\n  },\r\n  {\r\n    key: 'misc', label: 'Misc',\r\n    icon: (selected) => (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={selected ? '#fff' : '#22b36a'} strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-more-horizontal h-5 w-5\"><circle cx=\"12\" cy=\"12\" r=\"1\"/><circle cx=\"19\" cy=\"12\" r=\"1\"/><circle cx=\"5\" cy=\"12\" r=\"1\"/></svg>\r\n    )\r\n  },\r\n];\r\n\r\nexport default function HomePage({ showUserGuideModal, setShowUserGuideModal, userGuideContent }) {\r\n  const { user, updateUser } = useAuth();\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [showWelcomeModal, setShowWelcomeModal] = useState(false);\r\n  const [selectedDomain, setSelectedDomain] = useState('all');\r\n  const [showAnnouncement, setShowAnnouncement] = useState(true);\r\n  const [announcementIdx, setAnnouncementIdx] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  \r\n  // API Data States\r\n  const [companies, setCompanies] = useState([]);\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [bets, setBets] = useState([]);\r\n  const [myBets, setMyBets] = useState([]);\r\n  \r\n  const announcements = [\r\n    'Placement Season Surprise: Bet Big, Win Bigger!',\r\n    'Write a mail to us noreply@gmail.com',\r\n    'All the best for placements!'\r\n  ];\r\n  \r\n  const navigate = useNavigate();\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [selectedCompany, setSelectedCompany] = useState(null);\r\n\r\n  // Load data from API\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        // Test API connection first\r\n        try {\r\n          const testResponse = await fetch('http://localhost:5000/api/companies');\r\n          if (!testResponse.ok) {\r\n            throw new Error(`Backend server responded with status: ${testResponse.status}`);\r\n          }\r\n        } catch (testError) {\r\n          console.error('Backend connection test failed:', testError);\r\n          setError('Cannot connect to backend server. Please make sure it\\'s running on port 5000.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        \r\n        // Load data with individual error handling\r\n        let companiesData = [];\r\n        let candidatesData = [];\r\n        let betsData = [];\r\n        let myBetsData = [];\r\n\r\n        try {\r\n          companiesData = await api.getCompanies();\r\n        } catch (error) {\r\n          console.error('Error loading companies:', error);\r\n          // Continue with empty array\r\n        }\r\n\r\n        try {\r\n          candidatesData = await api.getCandidates();\r\n        } catch (error) {\r\n          console.error('Error loading candidates:', error);\r\n          // Continue with empty array\r\n        }\r\n\r\n        try {\r\n          betsData = await api.getBets();\r\n        } catch (error) {\r\n          console.error('Error loading bets:', error);\r\n          // Continue with empty array\r\n        }\r\n\r\n        try {\r\n          myBetsData = await api.getMyBets();\r\n        } catch (error) {\r\n          console.error('Error loading my bets:', error);\r\n          // Continue with empty array\r\n        }\r\n        \r\n        setCompanies(companiesData);\r\n        setCandidates(candidatesData);\r\n        setBets(betsData);\r\n        setMyBets(myBetsData);\r\n\r\n        // Check if we got any data\r\n        if (companiesData.length === 0 && candidatesData.length === 0 && betsData.length === 0) {\r\n          setError('No data available. The database might be empty. Please check if data has been seeded.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading data:', error);\r\n        setError('Failed to load data. Please check your connection and try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!showAnnouncement) return;\r\n    const interval = setInterval(() => {\r\n      setAnnouncementIdx(idx => (idx + 1) % announcements.length);\r\n    }, 4000);\r\n    return () => clearInterval(interval);\r\n  }, [showAnnouncement]);\r\n\r\n  // Add this handler inside HomePage\r\n  async function handleModalSubmit(betsToSubmit, totalBet) {\r\n    try {\r\n      // Submit bets to API\r\n      const betPromises = betsToSubmit.map(bet => \r\n        api.placeBet({\r\n          candidateId: bet.candidateId,\r\n          companyId: bet.companyId,\r\n          type: bet.type,\r\n          amount: bet.amount\r\n        })\r\n      );\r\n      \r\n      await Promise.all(betPromises);\r\n      \r\n      // Update user tokens\r\n      const updatedUser = { ...user, tokens: user.tokens - totalBet };\r\n      updateUser(updatedUser);\r\n      \r\n      // Refresh bets data\r\n      const [newBets, newMyBets] = await Promise.all([\r\n        api.getBets(),\r\n        api.getMyBets()\r\n      ]);\r\n      setBets(newBets);\r\n      setMyBets(newMyBets);\r\n      \r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      console.error('Error placing bets:', error);\r\n      setError('Failed to place bets. Please try again.');\r\n    }\r\n  }\r\n\r\n  // Helper: check if company has results declared\r\n  const hasResultsDeclared = (company) => {\r\n    return company.candidates && company.candidates.some(cand => cand.result !== 'awaited');\r\n  };\r\n\r\n  // Filter companies for Live Events box (only show companies where results are NOT declared)\r\n  const filteredCompanies = selectedDomain === 'all' \r\n    ? companies.filter(c => !hasResultsDeclared(c))\r\n    : companies.filter(c => c.liveEventSection === selectedDomain && !hasResultsDeclared(c));\r\n\r\n  // Filter companies for Hot Bets (top 3 by tokens, filtered by selected domain, only active companies)\r\n  const hotBetsCompanies = (selectedDomain === 'all'\r\n    ? companies.filter(c => !hasResultsDeclared(c))\r\n    : companies.filter(c => c.liveEventSection === selectedDomain && !hasResultsDeclared(c)))\r\n    .sort((a, b) => {\r\n      // Calculate total tokens for each company\r\n      const totalTokensA = bets.filter(bet => bet.companyId === a._id)\r\n        .reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\r\n      const totalTokensB = bets.filter(bet => bet.companyId === b._id)\r\n        .reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\r\n      return totalTokensB - totalTokensA;\r\n    })\r\n    .slice(0, 3);\r\n\r\n  // Persistent, bet-driven stakes for each company\r\n  const [companyStakes, setCompanyStakes] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Recalculate stakes whenever bets change\r\n    const newStakes = {};\r\n    companies.forEach(company => {\r\n      const shortlistedIds = company.shortlist || [];\r\n      shortlistedIds.forEach(cid => {\r\n        // Total tokens bet on this candidate\r\n        const t_i = bets.filter(bet => bet.companyId === company._id && bet.candidateId === cid)\r\n          .reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\r\n        // Improved odds formula: only change for candidate being bet on\r\n        const baseFor = 2.0;\r\n        const minFor = 1.05;\r\n        const maxFor = 10.0;\r\n        const k = 0.0005;\r\n        let forStake = baseFor;\r\n        let againstStake = baseFor;\r\n        if (t_i > 0) {\r\n          forStake = Math.max(minFor, baseFor - k * t_i);\r\n          againstStake = Math.min(maxFor, baseFor + k * t_i);\r\n        }\r\n        if (!newStakes[company._id]) newStakes[company._id] = {};\r\n        newStakes[company._id][cid] = {\r\n          for: forStake.toFixed(2),\r\n          against: againstStake.toFixed(2)\r\n        };\r\n      });\r\n    });\r\n    setCompanyStakes(newStakes);\r\n  }, [bets, companies]);\r\n\r\n  // Calculate top 8 companies by total tokens bet\r\n  const topCompanyIds = useMemo(() => {\r\n    const totals = {};\r\n    bets.forEach(bet => {\r\n      if (!totals[bet.companyId]) totals[bet.companyId] = 0;\r\n      totals[bet.companyId] += Number(bet.amount) || 0;\r\n    });\r\n    // Sort company ids by total tokens bet, descending\r\n    return Object.entries(totals)\r\n      .sort((a, b) => b[1] - a[1])\r\n      .slice(0, 8)\r\n      .map(([id]) => id);\r\n  }, [bets]);\r\n\r\n  // Use admin-selected companies for the carousel (for now, use top companies)\r\n  const carouselCompanies = companies\r\n    .filter(c => topCompanyIds.includes(c._id) && !hasResultsDeclared(c))\r\n    .slice(0, 5);\r\n\r\n  // Helper to close menu on outside click\r\n  const menuRef = useRef();\r\n  React.useEffect(() => {\r\n    function handleClick(e) {\r\n      if (menuOpen && menuRef.current && !menuRef.current.contains(e.target)) {\r\n        setMenuOpen(false);\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClick);\r\n    return () => document.removeEventListener('mousedown', handleClick);\r\n  }, [menuOpen]);\r\n\r\n  function handleLogout() {\r\n    setMenuOpen(false);\r\n    // Clear user state if needed\r\n    navigate('/');\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[linear-gradient(135deg,_#f8fafc,_#e2f7e1)]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[linear-gradient(135deg,_#f8fafc,_#e2f7e1)]\">\r\n        <div className=\"text-center max-w-md mx-auto p-6\">\r\n          <div className=\"text-red-500 text-xl mb-4 font-semibold\"> Connection Issue</div>\r\n          <div className=\"text-gray-600 mb-6\">{error}</div>\r\n          <div className=\"space-y-3 text-sm text-gray-500\">\r\n            <p> Make sure the backend server is running on port 5000</p>\r\n            <p> Check your internet connection</p>\r\n            <p> Try refreshing the page</p>\r\n          </div>\r\n          <div className=\"mt-6 space-x-4\">\r\n            <button \r\n              onClick={() => window.location.reload()} \r\n              className=\"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition\"\r\n            >\r\n              Retry\r\n            </button>\r\n            <button \r\n              onClick={() => setError('')} \r\n              className=\"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition\"\r\n            >\r\n              Continue Anyway\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 40 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.7, ease: \"easeOut\" }}\r\n    >\r\n      {/* Do NOT render any announcement bar here. Only the global one from App.js is used. */}\r\n      <HeaderNav user={user} onUserGuide={() => setShowUserGuideModal(true)} />\r\n      {/* Main Content Sections */}\r\n      <motion.div\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        variants={{ visible: { transition: { staggerChildren: 0.18 } }, hidden: {} }}\r\n      >\r\n        {/* 1. Swiper Carousel (all companies) */}\r\n        <motion.section\r\n          variants={{ hidden: { opacity: 0, y: 40 }, visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: \"easeOut\" } } }}\r\n          className=\"flex flex-col items-center py-4 md:py-8 px-0\"\r\n        >\r\n          <Swiper\r\n            modules={[Autoplay, Pagination]}\r\n            slidesPerView={1}\r\n            spaceBetween={24}\r\n            loop={true}\r\n            autoplay={{ delay: 5000, disableOnInteraction: false }}\r\n            pagination={{ clickable: true, el: '.custom-swiper-pagination' }}\r\n            navigation={false}\r\n            breakpoints={{\r\n              640: { slidesPerView: 1 },\r\n              768: { slidesPerView: 2 },\r\n              1024: { slidesPerView: 3 },\r\n            }}\r\n            className=\"w-full max-w-[98vw] md:max-w-[90vw]\"\r\n          >\r\n            {carouselCompanies.map((company, idx) => {\r\n              // Calculate total tokens for this company\r\n              const totalTokens = bets.filter(bet => bet.companyId === company._id)\r\n                .reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\r\n              return (\r\n                <SwiperSlide key={company.name}>\r\n                  <motion.div\r\n                    key={company.name}\r\n                    initial={{ opacity: 0, x: -40 }}\r\n                    whileInView={{ opacity: 1, x: 0 }}\r\n                    viewport={{ once: true, amount: 0.3 }}\r\n                    transition={{ duration: 0.6, delay: idx * 0.15, ease: \"easeOut\" }}\r\n                    className=\"rounded-2xl p-3 bg-[linear-gradient(135deg,_#23282b_80%,_#444950_100%),_radial-gradient(circle_at_80%_20%,_rgba(255,255,255,0.13)_0%,_transparent_70%)] shadow-[0_8px_32px_0_rgba(40,199,111,0.18),_0_1.5px_8px_0_rgba(255,255,255,0.10)_inset] hover:shadow-[0_0_32px_8px_rgba(184,255,231,0.18)] hover:scale-[1.01] backdrop-blur-[6px] bg-opacity-95 transition-all duration-300 flex flex-col justify-between min-h-[80px] max-w-[750px] w-full mx-auto cursor-pointer relative overflow-hidden\"\r\n                    style={{ boxShadow: '0 4px 32px 0 rgba(184,255,231,0.18), 0 1.5px 8px 0 rgba(255,255,255,0.10) inset', }}\r\n                    onClick={() => { setSelectedCompany(company); setModalOpen(true); }}\r\n                  >\r\n                    {/* Glossy highlight overlay */}\r\n                    <div className=\"absolute left-0 top-0 w-full h-full pointer-events-none z-10\" style={{ background: 'linear-gradient(120deg,rgba(255,255,255,0.18)_0%,rgba(255,255,255,0.04)_60%,rgba(255,255,255,0.10)_100%)', mixBlendMode: 'screen', borderRadius: 'inherit' }} />\r\n                    <span className=\"inline-block bg-[#28c76f] text-white text-xs font-bold px-4 py-1 rounded-full mb-4 w-fit\">ACTIVE</span>\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <div>\r\n                        <h3 className=\"text-2xl font-bold text-white mb-1\">{company.name}</h3>\r\n                        <div className=\"text-emerald-400 text-base font-medium\">{company.role}</div>\r\n                      </div>\r\n                      <div className=\"flex items-center justify-center w-32 h-32\">\r\n                        <img\r\n                          src={company.logo || '/logo192.png'}\r\n                          alt={company.name + \" logo\"}\r\n                          className=\"w-28 h-28 object-contain\"\r\n                          onError={e => { e.target.onerror = null; e.target.src = 'https://cdn-icons-png.flaticon.com/512/3135/3135715.png'; }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                                          <div className=\"flex flex-col gap-2 mb-4\">\r\n                        <div className=\"flex items-center gap-2 text-red-400 text-base font-medium\"><svg width=\"20\" height=\"20\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg> expires on: {company.expiresOn || 'N/A'}</div>\r\n                        <div className=\"flex items-center gap-2 text-gray-400 text-base\">\r\n                          <svg width=\"20\" height=\"20\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 17v-2a4 4 0 014-4h10a4 4 0 014 4v2\" /></svg>\r\n                          Total Tokens: {totalTokens.toLocaleString()}\r\n                        </div>\r\n                      </div>\r\n                    <div className=\"flex justify-end mt-auto\">\r\n                      <button className=\"w-full bg-[#28c76f] hover:bg-[#22b455] text-white font-bold py-3 rounded-lg text-lg transition hover:shadow-md\">Place Bet</button>\r\n                    </div>\r\n                  </motion.div>\r\n                </SwiperSlide>\r\n              );\r\n            })}\r\n          </Swiper>\r\n          <div className=\"custom-swiper-pagination mt-4 flex justify-center gap-2\"></div>\r\n        </motion.section>\r\n        {/* 2. Live Events Box with Filters and Hot Bets */}\r\n        <motion.section\r\n          variants={{ hidden: { opacity: 0, y: 40 }, visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: \"easeOut\" } } }}\r\n          className=\"px-2 md:px-10 py-6 md:py-8\"\r\n        >\r\n          <motion.div\r\n            variants={{ hidden: { opacity: 0, y: 40 }, visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: \"easeOut\" } } }}\r\n            className=\"bg-[linear-gradient(to_top_right,_#181a1b_80%,_#28c76f_20%,_#181a1b_100%)] backdrop-blur-md border border-white/10 shadow-md rounded-xl p-6 md:p-10\"\r\n          >\r\n            <h2 className=\"text-2xl md:text-3xl font-bold text-white mb-4 md:mb-6 flex items-center gap-2\">\r\n              <span className=\"inline-flex items-center justify-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"44\" height=\"44\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#28c76f\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-zap w-10 h-10\"><polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"></polygon></svg>\r\n              </span>\r\n              Live Events\r\n            </h2>\r\n            {/* Filter Buttons (lighter shade) */}\r\n            <div className=\"flex gap-2 md:gap-4 mb-6 overflow-x-auto scrollbar-thin scrollbar-thumb-[#a3f7bf]/40 scrollbar-track-transparent\">\r\n              {filterOptions.map(opt => (\r\n                <div className=\"flex flex-col items-center gap-1\" key={opt.key}>\r\n                  <button\r\n                    className={`rounded-full flex items-center justify-center focus:outline-none w-10 h-10 md:w-12 md:h-12 transition-all duration-200\r\n                      ${selectedDomain === opt.key\r\n                        ? 'bg-[#28c76f] shadow-[0_0_32px_0_rgba(40,199,111,0.25)]'\r\n                        : 'bg-[#0a0f0c]'}\r\n                    `}\r\n                    onClick={() => setSelectedDomain(opt.key)}\r\n                    aria-label={opt.label}\r\n                  >\r\n                    {opt.icon(selectedDomain === opt.key)}\r\n                  </button>\r\n                  <span className={`text-sm md:text-base font-medium transition-all duration-200 mt-2 text-white`}>{opt.label}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {/* Hot Bets Cards (filtered, max 3, sorted by tokens) */}\r\n            <div className=\"flex flex-col md:flex-row gap-6\">\r\n              {hotBetsCompanies.map((company, idx) => {\r\n                // Calculate total tokens for this company\r\n                const totalTokens = bets.filter(bet => bet.companyId === company._id)\r\n                  .reduce((sum, bet) => sum + (Number(bet.amount) || 0), 0);\r\n                // Compose the company object for the modal\r\n                const modalCompany = {\r\n                  ...company,\r\n                  role: company.role || 'N/A',\r\n                  logo: company.logo || '/logo192.png',\r\n                  expires: company.expiresOn || 'N/A',\r\n                  tokens: totalTokens,\r\n                  domain: company.liveEventSection || 'misc',\r\n                };\r\n\r\n                // Get shortlisted candidate IDs for this company\r\n                const shortlistedIds = company.shortlist || [];\r\n                // Aggregate total tokens bet per candidate for this company\r\n                const candidateTokenMap = {};\r\n                bets.forEach(bet => {\r\n                  if (bet.companyId === company._id && shortlistedIds.includes(bet.candidateId)) {\r\n                    candidateTokenMap[bet.candidateId] = (candidateTokenMap[bet.candidateId] || 0) + (Number(bet.amount) || 0);\r\n                  }\r\n                });\r\n                // Sort candidates by tokens bet, descending\r\n                const sortedCandidates = [...shortlistedIds]\r\n                  .map(cid => ({\r\n                    id: cid,\r\n                    name: (candidates.find(c => c._id === cid) || {}).name || 'Unknown',\r\n                    tokens: candidateTokenMap[cid] || 0\r\n                  }))\r\n                  .sort((a, b) => b.tokens - a.tokens);\r\n                // Pick top two\r\n                const topTwo = sortedCandidates.slice(0, 2);\r\n\r\n                // Use persistent, bet-driven stakes\r\n                const stakes = companyStakes[company._id] || {};\r\n\r\n                return (\r\n                  <motion.div\r\n                    key={company.name}\r\n                    initial={{ opacity: 0, x: -40 }}\r\n                    whileInView={{ opacity: 1, x: 0 }}\r\n                    viewport={{ once: true, amount: 0.3 }}\r\n                    transition={{ duration: 0.6, delay: idx * 0.15, ease: \"easeOut\" }}\r\n                    className=\"bg-[#181f1f] rounded-2xl p-6 w-full md:w-[420px] h-[200px] flex flex-col justify-between shadow-lg relative border-2 border-[#28c76f]/80 transition-all duration-300 hover:shadow-2xl hover:scale-[1.03] hover:border-[#28c76f] cursor-pointer\"\r\n                    onClick={() => { setSelectedCompany(modalCompany); setModalOpen(true); }}\r\n                  >\r\n                    <div className=\"flex justify-between items-start mb-2\">\r\n                      <span className=\"text-lg font-bold text-[#28c76f]\">{company.name}</span>\r\n                      <span className=\"bg-[#28c76f] text-white text-xs px-3 py-1 rounded-full font-semibold absolute top-6 right-6\">{modalCompany.role}</span>\r\n                    </div>\r\n                    <div className=\"flex-1 flex flex-col gap-1 mb-2\">\r\n                      {topTwo.length > 0 ? topTwo.map((cand, i) => (\r\n                        <div className=\"flex items-center gap-3\" key={cand.id}>\r\n                          <span className=\"text-gray-200 font-medium\">{cand.name}</span>\r\n                          <span className=\"font-bold text-green-500 ml-auto\">{stakes[cand.id]?.for || '2.00'}x</span>\r\n                          <span className=\"font-bold text-red-500\">{stakes[cand.id]?.against || '2.00'}x</span>\r\n                        </div>\r\n                      )) : (\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <span className=\"text-gray-200 font-medium\">No bets yet</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex justify-between items-end text-xs text-gray-400 mt-2\">\r\n                      <div className=\"flex items-center gap-1\"><svg width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg> {modalCompany.expires}</div>\r\n                      <div className=\"flex items-center gap-1\"><svg width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 17v-2a4 4 0 014-4h10a4 4 0 014 4v2\" /></svg> {typeof modalCompany.tokens === 'number' ? modalCompany.tokens.toLocaleString() : 'N/A'} tokens</div>\r\n                    </div>\r\n                  </motion.div>\r\n                );\r\n              })}\r\n            </div>\r\n          </motion.div>\r\n        </motion.section>\r\n      </motion.div>\r\n      {/* Footer */}\r\n      <footer className=\"w-full flex justify-center mt-10\">\r\n        <div className=\"w-full flex items-center gap-2 px-8 py-3 text-gray-300 bg-transparent text-sm\" style={{borderTop: '1px solid #232b3a'}}>\r\n          <svg className=\"w-5 h-5 text-[#28c76f] flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"#28c76f\" strokeWidth=\"2\" fill=\"none\"/><path d=\"M12 16v-4\" stroke=\"#28c76f\" strokeWidth=\"2\" strokeLinecap=\"round\"/><circle cx=\"12\" cy=\"8\" r=\"1\" fill=\"#28c76f\"/></svg>\r\n          <span>For entertainment only. Not affiliated with IIT BHU or placement cells. Any resemblance to persons or events is coincidental. No real job predictions or monetary rewards. Participation is purely for funplease enjoy responsibly.</span>\r\n        </div>\r\n      </footer>\r\n      {showUserGuideModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full relative overflow-y-auto max-h-[90vh]\">\r\n            <button className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl\" onClick={() => setShowUserGuideModal(false)}>&times;</button>\r\n            {userGuideContent}\r\n            <button className=\"mt-8 w-full bg-[#28c76f] hover:bg-[#22b36a] text-white font-bold py-3 rounded-full text-lg transition hover:shadow-md\" onClick={() => setShowUserGuideModal(false)}>Get Started</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Company Shortlist Modal */}\r\n      <CompanyShortlistModal\r\n        open={modalOpen}\r\n        onClose={() => setModalOpen(false)}\r\n        company={selectedCompany}\r\n        candidates={candidates}\r\n        bets={bets}\r\n        onSubmit={handleModalSubmit}\r\n        stakes={selectedCompany ? companyStakes[selectedCompany._id] : {}}\r\n      />\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nfunction getInitials(name) {\r\n  return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\r\n} "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AACnE,SAASC,MAAM,EAAEC,WAAW,QAAQ,cAAc;AAClD,SAASC,QAAQ,EAAEC,UAAU,QAAQ,gBAAgB;AACrD,OAAO,YAAY;AACnB,OAAO,uBAAuB;AAC9B,OAAO,aAAa;AACpB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,SAASC,MAAM,QAAQ,eAAe;AACtC,SAASC,OAAO,QAAQ,uBAAuB;AAC/C,OAAOC,GAAG,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,aAAa,GAAG,CACpB;EACEC,GAAG,EAAE,KAAK;EAAEC,KAAK,EAAE,KAAK;EACxBC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,4BAA4B;IAAAC,QAAA,eAAChB,OAAA;MAASiB,MAAM,EAAC;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAU;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAEpS,CAAC,EACD;EACEnB,GAAG,EAAE,OAAO;EAAEC,KAAK,EAAE,OAAO;EAC5BC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,kCAAkC;IAAAC,QAAA,gBAAChB,OAAA;MAAMsB,CAAC,EAAC,GAAG;MAACC,CAAC,EAAC,GAAG;MAAChB,KAAK,EAAC,IAAI;MAACC,MAAM,EAAC,IAAI;MAACgB,EAAE,EAAC;IAAG;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMsB,CAAC,EAAC,GAAG;MAACC,CAAC,EAAC,GAAG;MAAChB,KAAK,EAAC,GAAG;MAACC,MAAM,EAAC;IAAG;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMyB,EAAE,EAAC,GAAG;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,GAAG;MAACC,EAAE,EAAC;IAAI;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMyB,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC;IAAI;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMyB,EAAE,EAAC,GAAG;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,GAAG;MAACC,EAAE,EAAC;IAAI;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMyB,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC;IAAI;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAE5e,CAAC,EACD;EACEnB,GAAG,EAAE,KAAK;EAAEC,KAAK,EAAE,KAAK;EACxBC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,4BAA4B;IAAAC,QAAA,gBAAChB,OAAA;MAAUiB,MAAM,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAUiB,MAAM,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAE5T,CAAC,EACD;EACEnB,GAAG,EAAE,SAAS;EAAEC,KAAK,EAAE,SAAS;EAChCC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,2BAA2B;IAAAC,QAAA,gBAAChB,OAAA;MAAM6B,CAAC,EAAC;IAA2H;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAUiB,MAAM,EAAC;IAA+B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMyB,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,OAAO;MAACC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC;IAAI;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAErd,CAAC,EACD;EACEnB,GAAG,EAAE,MAAM;EAAEC,KAAK,EAAE,MAAM;EAC1BC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,gCAAgC;IAAAC,QAAA,gBAAChB,OAAA;MAAS8B,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,GAAG;MAACP,EAAE,EAAC,GAAG;MAACQ,EAAE,EAAC;IAAG;MAAAd,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAwC;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAoC;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAEhY,CAAC,EACD;EACEnB,GAAG,EAAE,MAAM;EAAEC,KAAK,EAAE,MAAM;EAC1BC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,2BAA2B;IAAAC,QAAA,gBAAChB,OAAA;MAAMsB,CAAC,EAAC,GAAG;MAACC,CAAC,EAAC,GAAG;MAAChB,KAAK,EAAC,IAAI;MAACC,MAAM,EAAC,IAAI;MAACgB,EAAE,EAAC;IAAG;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAMsB,CAAC,EAAC,GAAG;MAACC,CAAC,EAAC,GAAG;MAAChB,KAAK,EAAC,GAAG;MAACC,MAAM,EAAC;IAAG;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAS;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAU;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAS;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAQ;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAU;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAS;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAQ;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAM6B,CAAC,EAAC;IAAS;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAEre,CAAC,EACD;EACEnB,GAAG,EAAE,MAAM;EAAEC,KAAK,EAAE,MAAM;EAC1BC,IAAI,EAAGC,QAAQ,iBACbL,OAAA;IAAKM,KAAK,EAAC,4BAA4B;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAEN,QAAQ,GAAG,MAAM,GAAG,SAAU;IAACO,WAAW,EAAC,KAAK;IAACC,aAAa,EAAC,OAAO;IAACC,cAAc,EAAC,OAAO;IAACC,SAAS,EAAC,uCAAuC;IAAAC,QAAA,gBAAChB,OAAA;MAAQ8B,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACE,CAAC,EAAC;IAAG;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAQ8B,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACE,CAAC,EAAC;IAAG;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAAArB,OAAA;MAAQ8B,EAAE,EAAC,GAAG;MAACC,EAAE,EAAC,IAAI;MAACE,CAAC,EAAC;IAAG;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK;AAE5V,CAAC,CACF;AAED,eAAe,SAASa,QAAQA,CAAC;EAAEC,kBAAkB;EAAEC,qBAAqB;EAAEC;AAAiB,CAAC,EAAE;EAAAC,EAAA;EAChG,MAAM;IAAEC,IAAI;IAAEC;EAAW,CAAC,GAAG3C,OAAO,CAAC,CAAC;EACtC,MAAM,CAAC4C,QAAQ,EAAEC,WAAW,CAAC,GAAG1D,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC2D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5D,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC6D,cAAc,EAAEC,iBAAiB,CAAC,GAAG9D,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC+D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhE,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACiE,eAAe,EAAEC,kBAAkB,CAAC,GAAGlE,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACmE,OAAO,EAAEC,UAAU,CAAC,GAAGpE,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACqE,KAAK,EAAEC,QAAQ,CAAC,GAAGtE,QAAQ,CAAC,EAAE,CAAC;;EAEtC;EACA,MAAM,CAACuE,SAAS,EAAEC,YAAY,CAAC,GAAGxE,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyE,UAAU,EAAEC,aAAa,CAAC,GAAG1E,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC2E,IAAI,EAAEC,OAAO,CAAC,GAAG5E,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC6E,MAAM,EAAEC,SAAS,CAAC,GAAG9E,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAM+E,aAAa,GAAG,CACpB,iDAAiD,EACjD,sCAAsC,EACtC,8BAA8B,CAC/B;EAED,MAAMC,QAAQ,GAAGxE,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACyE,SAAS,EAAEC,YAAY,CAAC,GAAGlF,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmF,eAAe,EAAEC,kBAAkB,CAAC,GAAGpF,QAAQ,CAAC,IAAI,CAAC;;EAE5D;EACAE,SAAS,CAAC,MAAM;IACd,MAAMmF,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACFjB,UAAU,CAAC,IAAI,CAAC;QAChBE,QAAQ,CAAC,EAAE,CAAC;;QAEZ;QACA,IAAI;UACF,MAAMgB,YAAY,GAAG,MAAMC,KAAK,CAAC,qCAAqC,CAAC;UACvE,IAAI,CAACD,YAAY,CAACE,EAAE,EAAE;YACpB,MAAM,IAAIC,KAAK,CAAC,yCAAyCH,YAAY,CAACI,MAAM,EAAE,CAAC;UACjF;QACF,CAAC,CAAC,OAAOC,SAAS,EAAE;UAClBC,OAAO,CAACvB,KAAK,CAAC,iCAAiC,EAAEsB,SAAS,CAAC;UAC3DrB,QAAQ,CAAC,gFAAgF,CAAC;UAC1FF,UAAU,CAAC,KAAK,CAAC;UACjB;QACF;;QAEA;QACA,IAAIyB,aAAa,GAAG,EAAE;QACtB,IAAIC,cAAc,GAAG,EAAE;QACvB,IAAIC,QAAQ,GAAG,EAAE;QACjB,IAAIC,UAAU,GAAG,EAAE;QAEnB,IAAI;UACFH,aAAa,GAAG,MAAM/E,GAAG,CAACmF,YAAY,CAAC,CAAC;QAC1C,CAAC,CAAC,OAAO5B,KAAK,EAAE;UACduB,OAAO,CAACvB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAChD;QACF;QAEA,IAAI;UACFyB,cAAc,GAAG,MAAMhF,GAAG,CAACoF,aAAa,CAAC,CAAC;QAC5C,CAAC,CAAC,OAAO7B,KAAK,EAAE;UACduB,OAAO,CAACvB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;UACjD;QACF;QAEA,IAAI;UACF0B,QAAQ,GAAG,MAAMjF,GAAG,CAACqF,OAAO,CAAC,CAAC;QAChC,CAAC,CAAC,OAAO9B,KAAK,EAAE;UACduB,OAAO,CAACvB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;UAC3C;QACF;QAEA,IAAI;UACF2B,UAAU,GAAG,MAAMlF,GAAG,CAACsF,SAAS,CAAC,CAAC;QACpC,CAAC,CAAC,OAAO/B,KAAK,EAAE;UACduB,OAAO,CAACvB,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C;QACF;QAEAG,YAAY,CAACqB,aAAa,CAAC;QAC3BnB,aAAa,CAACoB,cAAc,CAAC;QAC7BlB,OAAO,CAACmB,QAAQ,CAAC;QACjBjB,SAAS,CAACkB,UAAU,CAAC;;QAErB;QACA,IAAIH,aAAa,CAACQ,MAAM,KAAK,CAAC,IAAIP,cAAc,CAACO,MAAM,KAAK,CAAC,IAAIN,QAAQ,CAACM,MAAM,KAAK,CAAC,EAAE;UACtF/B,QAAQ,CAAC,uFAAuF,CAAC;QACnG;MACF,CAAC,CAAC,OAAOD,KAAK,EAAE;QACduB,OAAO,CAACvB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3CC,QAAQ,CAAC,kEAAkE,CAAC;MAC9E,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDiB,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;EAENnF,SAAS,CAAC,MAAM;IACd,IAAI,CAAC6D,gBAAgB,EAAE;IACvB,MAAMuC,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjCrC,kBAAkB,CAACsC,GAAG,IAAI,CAACA,GAAG,GAAG,CAAC,IAAIzB,aAAa,CAACsB,MAAM,CAAC;IAC7D,CAAC,EAAE,IAAI,CAAC;IACR,OAAO,MAAMI,aAAa,CAACH,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACvC,gBAAgB,CAAC,CAAC;;EAEtB;EACA,eAAe2C,iBAAiBA,CAACC,YAAY,EAAEC,QAAQ,EAAE;IACvD,IAAI;MACF;MACA,MAAMC,WAAW,GAAGF,YAAY,CAACG,GAAG,CAACC,GAAG,IACtCjG,GAAG,CAACkG,QAAQ,CAAC;QACXC,WAAW,EAAEF,GAAG,CAACE,WAAW;QAC5BC,SAAS,EAAEH,GAAG,CAACG,SAAS;QACxBC,IAAI,EAAEJ,GAAG,CAACI,IAAI;QACdC,MAAM,EAAEL,GAAG,CAACK;MACd,CAAC,CACH,CAAC;MAED,MAAMC,OAAO,CAACC,GAAG,CAACT,WAAW,CAAC;;MAE9B;MACA,MAAMU,WAAW,GAAG;QAAE,GAAGhE,IAAI;QAAEiE,MAAM,EAAEjE,IAAI,CAACiE,MAAM,GAAGZ;MAAS,CAAC;MAC/DpD,UAAU,CAAC+D,WAAW,CAAC;;MAEvB;MACA,MAAM,CAACE,OAAO,EAAEC,SAAS,CAAC,GAAG,MAAML,OAAO,CAACC,GAAG,CAAC,CAC7CxG,GAAG,CAACqF,OAAO,CAAC,CAAC,EACbrF,GAAG,CAACsF,SAAS,CAAC,CAAC,CAChB,CAAC;MACFxB,OAAO,CAAC6C,OAAO,CAAC;MAChB3C,SAAS,CAAC4C,SAAS,CAAC;MAEpBxC,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAOb,KAAK,EAAE;MACduB,OAAO,CAACvB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CC,QAAQ,CAAC,yCAAyC,CAAC;IACrD;EACF;;EAEA;EACA,MAAMqD,kBAAkB,GAAIC,OAAO,IAAK;IACtC,OAAOA,OAAO,CAACnD,UAAU,IAAImD,OAAO,CAACnD,UAAU,CAACoD,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,KAAK,SAAS,CAAC;EACzF,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAGnE,cAAc,KAAK,KAAK,GAC9CU,SAAS,CAAC0D,MAAM,CAACC,CAAC,IAAI,CAACP,kBAAkB,CAACO,CAAC,CAAC,CAAC,GAC7C3D,SAAS,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,gBAAgB,KAAKtE,cAAc,IAAI,CAAC8D,kBAAkB,CAACO,CAAC,CAAC,CAAC;;EAE1F;EACA,MAAME,gBAAgB,GAAG,CAACvE,cAAc,KAAK,KAAK,GAC9CU,SAAS,CAAC0D,MAAM,CAACC,CAAC,IAAI,CAACP,kBAAkB,CAACO,CAAC,CAAC,CAAC,GAC7C3D,SAAS,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,gBAAgB,KAAKtE,cAAc,IAAI,CAAC8D,kBAAkB,CAACO,CAAC,CAAC,CAAC,EACvFG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IACd;IACA,MAAMC,YAAY,GAAG7D,IAAI,CAACsD,MAAM,CAAClB,GAAG,IAAIA,GAAG,CAACG,SAAS,KAAKoB,CAAC,CAACG,GAAG,CAAC,CAC7DC,MAAM,CAAC,CAACC,GAAG,EAAE5B,GAAG,KAAK4B,GAAG,IAAIC,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3D,MAAMyB,YAAY,GAAGlE,IAAI,CAACsD,MAAM,CAAClB,GAAG,IAAIA,GAAG,CAACG,SAAS,KAAKqB,CAAC,CAACE,GAAG,CAAC,CAC7DC,MAAM,CAAC,CAACC,GAAG,EAAE5B,GAAG,KAAK4B,GAAG,IAAIC,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3D,OAAOyB,YAAY,GAAGL,YAAY;EACpC,CAAC,CAAC,CACDM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;EAEd;EACA,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGhJ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEtDE,SAAS,CAAC,MAAM;IACd;IACA,MAAM+I,SAAS,GAAG,CAAC,CAAC;IACpB1E,SAAS,CAAC2E,OAAO,CAACtB,OAAO,IAAI;MAC3B,MAAMuB,cAAc,GAAGvB,OAAO,CAACwB,SAAS,IAAI,EAAE;MAC9CD,cAAc,CAACD,OAAO,CAACG,GAAG,IAAI;QAC5B;QACA,MAAMC,GAAG,GAAG3E,IAAI,CAACsD,MAAM,CAAClB,GAAG,IAAIA,GAAG,CAACG,SAAS,KAAKU,OAAO,CAACa,GAAG,IAAI1B,GAAG,CAACE,WAAW,KAAKoC,GAAG,CAAC,CACrFX,MAAM,CAAC,CAACC,GAAG,EAAE5B,GAAG,KAAK4B,GAAG,IAAIC,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D;QACA,MAAMmC,OAAO,GAAG,GAAG;QACnB,MAAMC,MAAM,GAAG,IAAI;QACnB,MAAMC,MAAM,GAAG,IAAI;QACnB,MAAMC,CAAC,GAAG,MAAM;QAChB,IAAIC,QAAQ,GAAGJ,OAAO;QACtB,IAAIK,YAAY,GAAGL,OAAO;QAC1B,IAAID,GAAG,GAAG,CAAC,EAAE;UACXK,QAAQ,GAAGE,IAAI,CAACC,GAAG,CAACN,MAAM,EAAED,OAAO,GAAGG,CAAC,GAAGJ,GAAG,CAAC;UAC9CM,YAAY,GAAGC,IAAI,CAACE,GAAG,CAACN,MAAM,EAAEF,OAAO,GAAGG,CAAC,GAAGJ,GAAG,CAAC;QACpD;QACA,IAAI,CAACL,SAAS,CAACrB,OAAO,CAACa,GAAG,CAAC,EAAEQ,SAAS,CAACrB,OAAO,CAACa,GAAG,CAAC,GAAG,CAAC,CAAC;QACxDQ,SAAS,CAACrB,OAAO,CAACa,GAAG,CAAC,CAACY,GAAG,CAAC,GAAG;UAC5BW,GAAG,EAAEL,QAAQ,CAACM,OAAO,CAAC,CAAC,CAAC;UACxBC,OAAO,EAAEN,YAAY,CAACK,OAAO,CAAC,CAAC;QACjC,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;IACFjB,gBAAgB,CAACC,SAAS,CAAC;EAC7B,CAAC,EAAE,CAACtE,IAAI,EAAEJ,SAAS,CAAC,CAAC;;EAErB;EACA,MAAM4F,aAAa,GAAGhK,OAAO,CAAC,MAAM;IAClC,MAAMiK,MAAM,GAAG,CAAC,CAAC;IACjBzF,IAAI,CAACuE,OAAO,CAACnC,GAAG,IAAI;MAClB,IAAI,CAACqD,MAAM,CAACrD,GAAG,CAACG,SAAS,CAAC,EAAEkD,MAAM,CAACrD,GAAG,CAACG,SAAS,CAAC,GAAG,CAAC;MACrDkD,MAAM,CAACrD,GAAG,CAACG,SAAS,CAAC,IAAI0B,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC;IAClD,CAAC,CAAC;IACF;IACA,OAAOiD,MAAM,CAACC,OAAO,CAACF,MAAM,CAAC,CAC1B/B,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3BQ,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACXhC,GAAG,CAAC,CAAC,CAACyD,EAAE,CAAC,KAAKA,EAAE,CAAC;EACtB,CAAC,EAAE,CAAC5F,IAAI,CAAC,CAAC;;EAEV;EACA,MAAM6F,iBAAiB,GAAGjG,SAAS,CAChC0D,MAAM,CAACC,CAAC,IAAIiC,aAAa,CAACM,QAAQ,CAACvC,CAAC,CAACO,GAAG,CAAC,IAAI,CAACd,kBAAkB,CAACO,CAAC,CAAC,CAAC,CACpEY,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;EAEd;EACA,MAAM4B,OAAO,GAAGzK,MAAM,CAAC,CAAC;EACxBF,KAAK,CAACG,SAAS,CAAC,MAAM;IACpB,SAASyK,WAAWA,CAACC,CAAC,EAAE;MACtB,IAAInH,QAAQ,IAAIiH,OAAO,CAACG,OAAO,IAAI,CAACH,OAAO,CAACG,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,EAAE;QACtErH,WAAW,CAAC,KAAK,CAAC;MACpB;IACF;IACAsH,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEN,WAAW,CAAC;IACnD,OAAO,MAAMK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEP,WAAW,CAAC;EACrE,CAAC,EAAE,CAAClH,QAAQ,CAAC,CAAC;EAEd,SAAS0H,YAAYA,CAAA,EAAG;IACtBzH,WAAW,CAAC,KAAK,CAAC;IAClB;IACAsB,QAAQ,CAAC,GAAG,CAAC;EACf;EAEA,IAAIb,OAAO,EAAE;IACX,oBACEnD,OAAA;MAAKe,SAAS,EAAC,8FAA8F;MAAAC,QAAA,eAC3GhB,OAAA;QAAKe,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BhB,OAAA;UAAKe,SAAS,EAAC;QAAyE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/FrB,OAAA;UAAGe,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAC;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAIgC,KAAK,EAAE;IACT,oBACErD,OAAA;MAAKe,SAAS,EAAC,8FAA8F;MAAAC,QAAA,eAC3GhB,OAAA;QAAKe,SAAS,EAAC,kCAAkC;QAAAC,QAAA,gBAC/ChB,OAAA;UAAKe,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAClFrB,OAAA;UAAKe,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAEqC;QAAK;UAAAnC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjDrB,OAAA;UAAKe,SAAS,EAAC,iCAAiC;UAAAC,QAAA,gBAC9ChB,OAAA;YAAAgB,QAAA,EAAG;UAAsD;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC7DrB,OAAA;YAAAgB,QAAA,EAAG;UAAgC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACvCrB,OAAA;YAAAgB,QAAA,EAAG;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,eACNrB,OAAA;UAAKe,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BhB,OAAA;YACEoK,OAAO,EAAEA,CAAA,KAAMC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAE;YACxCxJ,SAAS,EAAC,4EAA4E;YAAAC,QAAA,EACvF;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTrB,OAAA;YACEoK,OAAO,EAAEA,CAAA,KAAM9G,QAAQ,CAAC,EAAE,CAAE;YAC5BvC,SAAS,EAAC,0EAA0E;YAAAC,QAAA,EACrF;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACErB,OAAA,CAACJ,MAAM,CAAC4K,GAAG;IACTC,OAAO,EAAE;MAAEC,OAAO,EAAE,CAAC;MAAEnJ,CAAC,EAAE;IAAG,CAAE;IAC/BoJ,OAAO,EAAE;MAAED,OAAO,EAAE,CAAC;MAAEnJ,CAAC,EAAE;IAAE,CAAE;IAC9BqJ,UAAU,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,IAAI,EAAE;IAAU,CAAE;IAAA9J,QAAA,gBAG/ChB,OAAA,CAACN,SAAS;MAAC6C,IAAI,EAAEA,IAAK;MAACwI,WAAW,EAAEA,CAAA,KAAM3I,qBAAqB,CAAC,IAAI;IAAE;MAAAlB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEzErB,OAAA,CAACJ,MAAM,CAAC4K,GAAG;MACTC,OAAO,EAAC,QAAQ;MAChBE,OAAO,EAAC,SAAS;MACjBK,QAAQ,EAAE;QAAEC,OAAO,EAAE;UAAEL,UAAU,EAAE;YAAEM,eAAe,EAAE;UAAK;QAAE,CAAC;QAAEC,MAAM,EAAE,CAAC;MAAE,CAAE;MAAAnK,QAAA,gBAG7EhB,OAAA,CAACJ,MAAM,CAACwL,OAAO;QACbJ,QAAQ,EAAE;UAAEG,MAAM,EAAE;YAAET,OAAO,EAAE,CAAC;YAAEnJ,CAAC,EAAE;UAAG,CAAC;UAAE0J,OAAO,EAAE;YAAEP,OAAO,EAAE,CAAC;YAAEnJ,CAAC,EAAE,CAAC;YAAEqJ,UAAU,EAAE;cAAEC,QAAQ,EAAE,GAAG;cAAEC,IAAI,EAAE;YAAU;UAAE;QAAE,CAAE;QAC3H/J,SAAS,EAAC,8CAA8C;QAAAC,QAAA,gBAExDhB,OAAA,CAACZ,MAAM;UACLiM,OAAO,EAAE,CAAC/L,QAAQ,EAAEC,UAAU,CAAE;UAChC+L,aAAa,EAAE,CAAE;UACjBC,YAAY,EAAE,EAAG;UACjBC,IAAI,EAAE,IAAK;UACXC,QAAQ,EAAE;YAAEC,KAAK,EAAE,IAAI;YAAEC,oBAAoB,EAAE;UAAM,CAAE;UACvDC,UAAU,EAAE;YAAEC,SAAS,EAAE,IAAI;YAAEC,EAAE,EAAE;UAA4B,CAAE;UACjEC,UAAU,EAAE,KAAM;UAClBC,WAAW,EAAE;YACX,GAAG,EAAE;cAAEV,aAAa,EAAE;YAAE,CAAC;YACzB,GAAG,EAAE;cAAEA,aAAa,EAAE;YAAE,CAAC;YACzB,IAAI,EAAE;cAAEA,aAAa,EAAE;YAAE;UAC3B,CAAE;UACFvK,SAAS,EAAC,qCAAqC;UAAAC,QAAA,EAE9CwI,iBAAiB,CAAC1D,GAAG,CAAC,CAACc,OAAO,EAAEpB,GAAG,KAAK;YACvC;YACA,MAAMyG,WAAW,GAAGtI,IAAI,CAACsD,MAAM,CAAClB,GAAG,IAAIA,GAAG,CAACG,SAAS,KAAKU,OAAO,CAACa,GAAG,CAAC,CAClEC,MAAM,CAAC,CAACC,GAAG,EAAE5B,GAAG,KAAK4B,GAAG,IAAIC,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3D,oBACEpG,OAAA,CAACX,WAAW;cAAA2B,QAAA,eACVhB,OAAA,CAACJ,MAAM,CAAC4K,GAAG;gBAETC,OAAO,EAAE;kBAAEC,OAAO,EAAE,CAAC;kBAAEpJ,CAAC,EAAE,CAAC;gBAAG,CAAE;gBAChC4K,WAAW,EAAE;kBAAExB,OAAO,EAAE,CAAC;kBAAEpJ,CAAC,EAAE;gBAAE,CAAE;gBAClC6K,QAAQ,EAAE;kBAAEC,IAAI,EAAE,IAAI;kBAAEhG,MAAM,EAAE;gBAAI,CAAE;gBACtCwE,UAAU,EAAE;kBAAEC,QAAQ,EAAE,GAAG;kBAAEa,KAAK,EAAElG,GAAG,GAAG,IAAI;kBAAEsF,IAAI,EAAE;gBAAU,CAAE;gBAClE/J,SAAS,EAAC,qeAAqe;gBAC/esL,KAAK,EAAE;kBAAEC,SAAS,EAAE;gBAAmF,CAAE;gBACzGlC,OAAO,EAAEA,CAAA,KAAM;kBAAEhG,kBAAkB,CAACwC,OAAO,CAAC;kBAAE1C,YAAY,CAAC,IAAI,CAAC;gBAAE,CAAE;gBAAAlD,QAAA,gBAGpEhB,OAAA;kBAAKe,SAAS,EAAC,8DAA8D;kBAACsL,KAAK,EAAE;oBAAEE,UAAU,EAAE,0GAA0G;oBAAEC,YAAY,EAAE,QAAQ;oBAAEC,YAAY,EAAE;kBAAU;gBAAE;kBAAAvL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACpQrB,OAAA;kBAAMe,SAAS,EAAC,0FAA0F;kBAAAC,QAAA,EAAC;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxHrB,OAAA;kBAAKe,SAAS,EAAC,wCAAwC;kBAAAC,QAAA,gBACrDhB,OAAA;oBAAAgB,QAAA,gBACEhB,OAAA;sBAAIe,SAAS,EAAC,oCAAoC;sBAAAC,QAAA,EAAE4F,OAAO,CAAC8F;oBAAI;sBAAAxL,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACtErB,OAAA;sBAAKe,SAAS,EAAC,wCAAwC;sBAAAC,QAAA,EAAE4F,OAAO,CAAC+F;oBAAI;sBAAAzL,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzE,CAAC,eACNrB,OAAA;oBAAKe,SAAS,EAAC,4CAA4C;oBAAAC,QAAA,eACzDhB,OAAA;sBACE4M,GAAG,EAAEhG,OAAO,CAACiG,IAAI,IAAI,cAAe;sBACpCC,GAAG,EAAElG,OAAO,CAAC8F,IAAI,GAAG,OAAQ;sBAC5B3L,SAAS,EAAC,0BAA0B;sBACpCgM,OAAO,EAAEnD,CAAC,IAAI;wBAAEA,CAAC,CAACG,MAAM,CAACiD,OAAO,GAAG,IAAI;wBAAEpD,CAAC,CAACG,MAAM,CAAC6C,GAAG,GAAG,yDAAyD;sBAAE;oBAAE;sBAAA1L,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACtH;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACgBrB,OAAA;kBAAKe,SAAS,EAAC,0BAA0B;kBAAAC,QAAA,gBAC3DhB,OAAA;oBAAKe,SAAS,EAAC,4DAA4D;oBAAAC,QAAA,gBAAChB,OAAA;sBAAKO,KAAK,EAAC,IAAI;sBAACC,MAAM,EAAC,IAAI;sBAACE,IAAI,EAAC,MAAM;sBAACD,OAAO,EAAC,WAAW;sBAACE,MAAM,EAAC,cAAc;sBAAAK,QAAA,eAAChB,OAAA;wBAAMa,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACF,WAAW,EAAE,CAAE;wBAACiB,CAAC,EAAC;sBAAwF;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,iBAAa,EAACuF,OAAO,CAACqG,SAAS,IAAI,KAAK;kBAAA;oBAAA/L,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACnXrB,OAAA;oBAAKe,SAAS,EAAC,iDAAiD;oBAAAC,QAAA,gBAC9DhB,OAAA;sBAAKO,KAAK,EAAC,IAAI;sBAACC,MAAM,EAAC,IAAI;sBAACE,IAAI,EAAC,MAAM;sBAACD,OAAO,EAAC,WAAW;sBAACE,MAAM,EAAC,cAAc;sBAAAK,QAAA,eAAChB,OAAA;wBAAMa,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACF,WAAW,EAAE,CAAE;wBAACiB,CAAC,EAAC;sBAAuC;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,kBACzL,EAAC4K,WAAW,CAACiB,cAAc,CAAC,CAAC;kBAAA;oBAAAhM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACRrB,OAAA;kBAAKe,SAAS,EAAC,0BAA0B;kBAAAC,QAAA,eACvChB,OAAA;oBAAQe,SAAS,EAAC,gHAAgH;oBAAAC,QAAA,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClJ,CAAC;cAAA,GAnCDuF,OAAO,CAAC8F,IAAI;gBAAAxL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAoCP;YAAC,GAtCGuF,OAAO,CAAC8F,IAAI;cAAAxL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAuCjB,CAAC;UAElB,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eACTrB,OAAA;UAAKe,SAAS,EAAC;QAAyD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC,eAEjBrB,OAAA,CAACJ,MAAM,CAACwL,OAAO;QACbJ,QAAQ,EAAE;UAAEG,MAAM,EAAE;YAAET,OAAO,EAAE,CAAC;YAAEnJ,CAAC,EAAE;UAAG,CAAC;UAAE0J,OAAO,EAAE;YAAEP,OAAO,EAAE,CAAC;YAAEnJ,CAAC,EAAE,CAAC;YAAEqJ,UAAU,EAAE;cAAEC,QAAQ,EAAE,GAAG;cAAEC,IAAI,EAAE;YAAU;UAAE;QAAE,CAAE;QAC3H/J,SAAS,EAAC,4BAA4B;QAAAC,QAAA,eAEtChB,OAAA,CAACJ,MAAM,CAAC4K,GAAG;UACTQ,QAAQ,EAAE;YAAEG,MAAM,EAAE;cAAET,OAAO,EAAE,CAAC;cAAEnJ,CAAC,EAAE;YAAG,CAAC;YAAE0J,OAAO,EAAE;cAAEP,OAAO,EAAE,CAAC;cAAEnJ,CAAC,EAAE,CAAC;cAAEqJ,UAAU,EAAE;gBAAEC,QAAQ,EAAE,GAAG;gBAAEC,IAAI,EAAE;cAAU;YAAE;UAAE,CAAE;UAC3H/J,SAAS,EAAC,qJAAqJ;UAAAC,QAAA,gBAE/JhB,OAAA;YAAIe,SAAS,EAAC,gFAAgF;YAAAC,QAAA,gBAC5FhB,OAAA;cAAMe,SAAS,EAAC,yCAAyC;cAAAC,QAAA,eACvDhB,OAAA;gBAAKM,KAAK,EAAC,4BAA4B;gBAACC,KAAK,EAAC,IAAI;gBAACC,MAAM,EAAC,IAAI;gBAACC,OAAO,EAAC,WAAW;gBAACC,IAAI,EAAC,MAAM;gBAACC,MAAM,EAAC,SAAS;gBAACC,WAAW,EAAC,KAAK;gBAACC,aAAa,EAAC,OAAO;gBAACC,cAAc,EAAC,OAAO;gBAACC,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,eAAChB,OAAA;kBAASiB,MAAM,EAAC;gBAAwC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAU;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5R,CAAC,eAET;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAELrB,OAAA;YAAKe,SAAS,EAAC,kHAAkH;YAAAC,QAAA,EAC9Hf,aAAa,CAAC6F,GAAG,CAACqH,GAAG,iBACpBnN,OAAA;cAAKe,SAAS,EAAC,kCAAkC;cAAAC,QAAA,gBAC/ChB,OAAA;gBACEe,SAAS,EAAE;AAC/B,wBAAwB8B,cAAc,KAAKsK,GAAG,CAACjN,GAAG,GACxB,wDAAwD,GACxD,cAAc;AACxC,qBAAsB;gBACFkK,OAAO,EAAEA,CAAA,KAAMtH,iBAAiB,CAACqK,GAAG,CAACjN,GAAG,CAAE;gBAC1C,cAAYiN,GAAG,CAAChN,KAAM;gBAAAa,QAAA,EAErBmM,GAAG,CAAC/M,IAAI,CAACyC,cAAc,KAAKsK,GAAG,CAACjN,GAAG;cAAC;gBAAAgB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/B,CAAC,eACTrB,OAAA;gBAAMe,SAAS,EAAE,8EAA+E;gBAAAC,QAAA,EAAEmM,GAAG,CAAChN;cAAK;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GAZ9D8L,GAAG,CAACjN,GAAG;cAAAgB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAazD,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENrB,OAAA;YAAKe,SAAS,EAAC,iCAAiC;YAAAC,QAAA,EAC7CoG,gBAAgB,CAACtB,GAAG,CAAC,CAACc,OAAO,EAAEpB,GAAG,KAAK;cACtC;cACA,MAAMyG,WAAW,GAAGtI,IAAI,CAACsD,MAAM,CAAClB,GAAG,IAAIA,GAAG,CAACG,SAAS,KAAKU,OAAO,CAACa,GAAG,CAAC,CAClEC,MAAM,CAAC,CAACC,GAAG,EAAE5B,GAAG,KAAK4B,GAAG,IAAIC,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;cAC3D;cACA,MAAMgH,YAAY,GAAG;gBACnB,GAAGxG,OAAO;gBACV+F,IAAI,EAAE/F,OAAO,CAAC+F,IAAI,IAAI,KAAK;gBAC3BE,IAAI,EAAEjG,OAAO,CAACiG,IAAI,IAAI,cAAc;gBACpCQ,OAAO,EAAEzG,OAAO,CAACqG,SAAS,IAAI,KAAK;gBACnCzG,MAAM,EAAEyF,WAAW;gBACnBqB,MAAM,EAAE1G,OAAO,CAACO,gBAAgB,IAAI;cACtC,CAAC;;cAED;cACA,MAAMgB,cAAc,GAAGvB,OAAO,CAACwB,SAAS,IAAI,EAAE;cAC9C;cACA,MAAMmF,iBAAiB,GAAG,CAAC,CAAC;cAC5B5J,IAAI,CAACuE,OAAO,CAACnC,GAAG,IAAI;gBAClB,IAAIA,GAAG,CAACG,SAAS,KAAKU,OAAO,CAACa,GAAG,IAAIU,cAAc,CAACsB,QAAQ,CAAC1D,GAAG,CAACE,WAAW,CAAC,EAAE;kBAC7EsH,iBAAiB,CAACxH,GAAG,CAACE,WAAW,CAAC,GAAG,CAACsH,iBAAiB,CAACxH,GAAG,CAACE,WAAW,CAAC,IAAI,CAAC,KAAK2B,MAAM,CAAC7B,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC5G;cACF,CAAC,CAAC;cACF;cACA,MAAMoH,gBAAgB,GAAG,CAAC,GAAGrF,cAAc,CAAC,CACzCrC,GAAG,CAACuC,GAAG,KAAK;gBACXkB,EAAE,EAAElB,GAAG;gBACPqE,IAAI,EAAE,CAACjJ,UAAU,CAACgK,IAAI,CAACvG,CAAC,IAAIA,CAAC,CAACO,GAAG,KAAKY,GAAG,CAAC,IAAI,CAAC,CAAC,EAAEqE,IAAI,IAAI,SAAS;gBACnElG,MAAM,EAAE+G,iBAAiB,CAAClF,GAAG,CAAC,IAAI;cACpC,CAAC,CAAC,CAAC,CACFhB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACf,MAAM,GAAGc,CAAC,CAACd,MAAM,CAAC;cACtC;cACA,MAAMkH,MAAM,GAAGF,gBAAgB,CAAC1F,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;cAE3C;cACA,MAAM6F,MAAM,GAAG5F,aAAa,CAACnB,OAAO,CAACa,GAAG,CAAC,IAAI,CAAC,CAAC;cAE/C,oBACEzH,OAAA,CAACJ,MAAM,CAAC4K,GAAG;gBAETC,OAAO,EAAE;kBAAEC,OAAO,EAAE,CAAC;kBAAEpJ,CAAC,EAAE,CAAC;gBAAG,CAAE;gBAChC4K,WAAW,EAAE;kBAAExB,OAAO,EAAE,CAAC;kBAAEpJ,CAAC,EAAE;gBAAE,CAAE;gBAClC6K,QAAQ,EAAE;kBAAEC,IAAI,EAAE,IAAI;kBAAEhG,MAAM,EAAE;gBAAI,CAAE;gBACtCwE,UAAU,EAAE;kBAAEC,QAAQ,EAAE,GAAG;kBAAEa,KAAK,EAAElG,GAAG,GAAG,IAAI;kBAAEsF,IAAI,EAAE;gBAAU,CAAE;gBAClE/J,SAAS,EAAC,gPAAgP;gBAC1PqJ,OAAO,EAAEA,CAAA,KAAM;kBAAEhG,kBAAkB,CAACgJ,YAAY,CAAC;kBAAElJ,YAAY,CAAC,IAAI,CAAC;gBAAE,CAAE;gBAAAlD,QAAA,gBAEzEhB,OAAA;kBAAKe,SAAS,EAAC,uCAAuC;kBAAAC,QAAA,gBACpDhB,OAAA;oBAAMe,SAAS,EAAC,kCAAkC;oBAAAC,QAAA,EAAE4F,OAAO,CAAC8F;kBAAI;oBAAAxL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACxErB,OAAA;oBAAMe,SAAS,EAAC,6FAA6F;oBAAAC,QAAA,EAAEoM,YAAY,CAACT;kBAAI;oBAAAzL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrI,CAAC,eACNrB,OAAA;kBAAKe,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAC7C0M,MAAM,CAACrI,MAAM,GAAG,CAAC,GAAGqI,MAAM,CAAC5H,GAAG,CAAC,CAACgB,IAAI,EAAE8G,CAAC;oBAAA,IAAAC,eAAA,EAAAC,gBAAA;oBAAA,oBACtC9N,OAAA;sBAAKe,SAAS,EAAC,yBAAyB;sBAAAC,QAAA,gBACtChB,OAAA;wBAAMe,SAAS,EAAC,2BAA2B;wBAAAC,QAAA,EAAE8F,IAAI,CAAC4F;sBAAI;wBAAAxL,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC,eAC9DrB,OAAA;wBAAMe,SAAS,EAAC,kCAAkC;wBAAAC,QAAA,GAAE,EAAA6M,eAAA,GAAAF,MAAM,CAAC7G,IAAI,CAACyC,EAAE,CAAC,cAAAsE,eAAA,uBAAfA,eAAA,CAAiB7E,GAAG,KAAI,MAAM,EAAC,GAAC;sBAAA;wBAAA9H,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eAC3FrB,OAAA;wBAAMe,SAAS,EAAC,wBAAwB;wBAAAC,QAAA,GAAE,EAAA8M,gBAAA,GAAAH,MAAM,CAAC7G,IAAI,CAACyC,EAAE,CAAC,cAAAuE,gBAAA,uBAAfA,gBAAA,CAAiB5E,OAAO,KAAI,MAAM,EAAC,GAAC;sBAAA;wBAAAhI,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA,GAHzCyF,IAAI,CAACyC,EAAE;sBAAArI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAIhD,CAAC;kBAAA,CACP,CAAC,gBACArB,OAAA;oBAAKe,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,eACtChB,OAAA;sBAAMe,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,EAAC;oBAAW;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC3D;gBACN;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eACNrB,OAAA;kBAAKe,SAAS,EAAC,2DAA2D;kBAAAC,QAAA,gBACxEhB,OAAA;oBAAKe,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBAAChB,OAAA;sBAAKO,KAAK,EAAC,IAAI;sBAACC,MAAM,EAAC,IAAI;sBAACE,IAAI,EAAC,MAAM;sBAACD,OAAO,EAAC,WAAW;sBAACE,MAAM,EAAC,cAAc;sBAAAK,QAAA,eAAChB,OAAA;wBAAMa,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACF,WAAW,EAAE,CAAE;wBAACiB,CAAC,EAAC;sBAAwF;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,KAAC,EAAC+L,YAAY,CAACC,OAAO;kBAAA;oBAAAnM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC9TrB,OAAA;oBAAKe,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBAAChB,OAAA;sBAAKO,KAAK,EAAC,IAAI;sBAACC,MAAM,EAAC,IAAI;sBAACE,IAAI,EAAC,MAAM;sBAACD,OAAO,EAAC,WAAW;sBAACE,MAAM,EAAC,cAAc;sBAAAK,QAAA,eAAChB,OAAA;wBAAMa,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACF,WAAW,EAAE,CAAE;wBAACiB,CAAC,EAAC;sBAAuC;wBAAAX,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,KAAC,EAAC,OAAO+L,YAAY,CAAC5G,MAAM,KAAK,QAAQ,GAAG4G,YAAY,CAAC5G,MAAM,CAAC0G,cAAc,CAAC,CAAC,GAAG,KAAK,EAAC,SAAO;kBAAA;oBAAAhM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnV,CAAC;cAAA,GA5BDuF,OAAO,CAAC8F,IAAI;gBAAAxL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA6BP,CAAC;YAEjB,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eAEbrB,OAAA;MAAQe,SAAS,EAAC,kCAAkC;MAAAC,QAAA,eAClDhB,OAAA;QAAKe,SAAS,EAAC,+EAA+E;QAACsL,KAAK,EAAE;UAAC0B,SAAS,EAAE;QAAmB,CAAE;QAAA/M,QAAA,gBACrIhB,OAAA;UAAKe,SAAS,EAAC,sCAAsC;UAACL,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,WAAW,EAAC,GAAG;UAACH,OAAO,EAAC,WAAW;UAAAO,QAAA,gBAAChB,OAAA;YAAQ8B,EAAE,EAAC,IAAI;YAACC,EAAE,EAAC,IAAI;YAACE,CAAC,EAAC,IAAI;YAACtB,MAAM,EAAC,SAAS;YAACC,WAAW,EAAC,GAAG;YAACF,IAAI,EAAC;UAAM;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAAArB,OAAA;YAAM6B,CAAC,EAAC,WAAW;YAAClB,MAAM,EAAC,SAAS;YAACC,WAAW,EAAC,GAAG;YAACC,aAAa,EAAC;UAAO;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAAArB,OAAA;YAAQ8B,EAAE,EAAC,IAAI;YAACC,EAAE,EAAC,GAAG;YAACE,CAAC,EAAC,GAAG;YAACvB,IAAI,EAAC;UAAS;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxUrB,OAAA;UAAAgB,QAAA,EAAM;QAAoO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9O;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EACRc,kBAAkB,iBACjBnC,OAAA;MAAKe,SAAS,EAAC,kFAAkF;MAAAC,QAAA,eAC/FhB,OAAA;QAAKe,SAAS,EAAC,4FAA4F;QAAAC,QAAA,gBACzGhB,OAAA;UAAQe,SAAS,EAAC,mEAAmE;UAACqJ,OAAO,EAAEA,CAAA,KAAMhI,qBAAqB,CAAC,KAAK,CAAE;UAAApB,QAAA,EAAC;QAAO;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAClJgB,gBAAgB,eACjBrC,OAAA;UAAQe,SAAS,EAAC,uHAAuH;UAACqJ,OAAO,EAAEA,CAAA,KAAMhI,qBAAqB,CAAC,KAAK,CAAE;UAAApB,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAEDrB,OAAA,CAACL,qBAAqB;MACpBqO,IAAI,EAAE/J,SAAU;MAChBgK,OAAO,EAAEA,CAAA,KAAM/J,YAAY,CAAC,KAAK,CAAE;MACnC0C,OAAO,EAAEzC,eAAgB;MACzBV,UAAU,EAAEA,UAAW;MACvBE,IAAI,EAAEA,IAAK;MACXuK,QAAQ,EAAExI,iBAAkB;MAC5BiI,MAAM,EAAExJ,eAAe,GAAG4D,aAAa,CAAC5D,eAAe,CAACsD,GAAG,CAAC,GAAG,CAAC;IAAE;MAAAvG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEjB;AAACiB,EAAA,CApfuBJ,QAAQ;EAAA,QACDrC,OAAO,EAqBnBL,WAAW;AAAA;AAAA2O,EAAA,GAtBNjM,QAAQ;AAsfhC,SAASkM,WAAWA,CAAC1B,IAAI,EAAE;EACzB,OAAOA,IAAI,CAAC2B,KAAK,CAAC,GAAG,CAAC,CAACvI,GAAG,CAACwI,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC1G,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1E;AAAC,IAAAqG,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}